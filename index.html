<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Калькулятор автомобиля</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#0d6efd" />
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js");
        }
    </script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css" />
</head>

<body>

<header class="header">
    <h1 class="app-title">Калькулятор автомобиля</h1>
</header>

<main class="container">

    <!-- ======================== КРЕДИТ ========================= -->
    <section class="card">
    <h2 class="section-title">Расчёт кредита</h2>

    <div class="form-row">
        <label for="car_price">Стоимость автомобиля</label>
        <input type="number" id="car_price" />
    </div>

    <div class="form-row">
        <label for="down_payment">Первоначальный взнос (первый платёж)</label>
        <input type="number" id="down_payment" />
    </div>

    <!-- Баллонный платеж / остаточный -->
    <div class="form-row">
        <label for="balloon_payment">Последний крупный платёж (Balloon, остаточная стоимость)</label>
        <input type="number" id="balloon_payment" placeholder="0 если нет" />
    </div>

    <!-- Срок кредита -->
    <div class="form-grid">
        <div class="form-col">
            <label for="loan_years">Срок кредита (годы)</label>
            <input type="number" id="loan_years" />
        </div>

        <div class="form-col">
            <label for="loan_months">Или срок (месяцы)</label>
            <input type="number" id="loan_months" />
        </div>
    </div>

    <div class="form-row">
        <label for="interest_rate">Процентная ставка (% годовых)</label>
        <input type="number" id="interest_rate" />
    </div>

    <!-- Тип кредита -->
    <div class="form-row">
        <label>Тип кредита</label>
        <select id="loan_type">
            <option value="annuity">Аннуитет</option>
            <option value="diff">Дифференцированный</option>
        </select>
    </div>

    <!-- Включать разовые платежи в тело кредита -->
    <div class="form-row">
        <label>Включать ли разовые платежи в тело кредита?</label>
        <select id="include_fees_to_loan">
            <option value="no">Нет — платить отдельно</option>
            <option value="yes">Да — добавить к сумме кредита</option>
        </select>
    </div>

    <!-- Разовые комиссии -->
    <div class="subsection-title">Разовые комиссии</div>

    <div class="form-row">
        <label>Комиссия банка за оформление</label>
        <input type="number" id="bank_fee" placeholder="0 если нет" />
    </div>

    <div class="form-row">
        <label>Комиссия дилера за оформление</label>
        <input type="number" id="dealer_fee" placeholder="0 если нет" />
    </div>

    <div class="form-row">
        <label>Комиссия за доставку автомобиля</label>
        <input type="number" id="delivery_fee" placeholder="0 если нет" />
    </div>

    <div class="form-row">
        <label>Разовый платёж автосалону (palvelumaksu)</label>
        <input type="number" id="service_fee" placeholder="0 если нет" />
    </div>

    <button class="btn btn-primary" id="btn_calc_loan">Рассчитать кредит</button>

    <div id="loan_result" class="result-block hidden"></div>
    </section>

    <!-- ==================== ДОП РАСХОДЫ ===================== -->
    <section class="card">
        <h2 class="section-title">Дополнительные расходы</h2>

        <label class="checkbox">
            <input type="checkbox" id="extra_toggle" />
            Учитывать доп. расходы
        </label>

        <div id="extra_block" class="hidden">

            <div class="extra-item-block">
                <label>Налог</label>
                <input type="number" id="tax_value" placeholder="Сумма" />
                <select id="tax_type" class="expense-type">
                    <option value="year">Ежегодно</option>
                    <option value="month">Ежемесячно</option>
                    <option value="once">Разово</option>
                </select>
            </div>

            <div class="extra-item-block">
                <label>Страховка</label>
                <input type="number" id="insurance_value" />
                <select id="insurance_type" class="expense-type">
                    <option value="year">Ежегодно</option>
                    <option value="month">Ежемесячно</option>
                    <option value="once">Разово</option>
                </select>
            </div>

            <div class="extra-item-block">
                <label>ТО / Сервис</label>
                <input type="number" id="service_value" />
                <select id="service_type" class="expense-type">
                    <option value="year">Ежегодно</option>
                    <option value="month">Ежемесячно</option>
                    <option value="once">Разово</option>
                </select>
            </div>

            <div class="extra-item-block">
                <label>Прочие расходы</label>
                <input type="number" id="other_value" />
                <select id="other_type" class="expense-type">
                    <option value="year">Ежегодно</option>
                    <option value="month">Ежемесячно</option>
                    <option value="once">Разово</option>
                </select>
            </div>

        </div>
    </section>


    <!-- ==================== КАСТОМНЫЕ РАСХОДЫ =================== -->
    <section class="card">
        <h2 class="section-title">Кастомные расходы</h2>

        <label class="checkbox">
            <input type="checkbox" id="custom_toggle" />
            Добавить свои расходы
        </label>

        <div id="custom_block" class="hidden">

            <div id="custom_list"></div>

            <button class="btn btn-secondary" id="btn_add_custom">
                + Добавить расход
            </button>
        </div>
    </section>


    <!-- ======================= ИТОГОВЫЙ БЛОК =================== -->
  
    
    <section class="card">
    <h2 class="section-title">Final Calculation</h2>

    <button class="btn btn-primary" id="btn_calc_all">Calculate all</button>

    <!-- Итоговый контейнер куда JS будет рендерить карточки -->
    <div id="final_result" class="results-container hidden"></div>

    <!-- Общий итог TOTAL -->
    <div id="total_summary" class="total-summary hidden">
        <h3 class="total-title">TOTAL</h3>
        <div id="total_value" class="total-value">0</div>
    </div>
    </section>

</main>

<!-- JS -->
<script src="js/loan.js"></script>
<script src="js/extra.js"></script>
<script src="js/calc_all.js"></script>

</body>
</html> 
